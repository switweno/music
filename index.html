<!DOCTYPE html>
<html lang="fr" dir="ltr">


<head>
      <meta charset="UTF-8">
    <meta name="google" content="notranslate">
    <!-- Open Graph Meta Tags -->
<meta property="og:title" content="Écoutez les plus belles chansons marocaines sur Switweno">
<meta property="og:description" content="Écoutez les plus belles chansons marocaines sur votre site Khalid Zik">
<meta property="og:image" content="https://switweno.github.io/music/logozik.png">
<meta property="og:url" content="https://switweno.github.io/music">
<meta property="og:type" content="website">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=volume_up"/>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&family=Amiri&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="icon" href="logozik.png" type="image/x-icon">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />
    <!-- Firebase SDK -->
    <script type="module" src="https://www.gstatic.com/firebasejs/11.3.1/firebase-app.js"></script>
    <script type="module" src="https://www.gstatic.com/firebasejs/11.3.1/firebase-firestore.js"></script>
    <!-- Emoji Picker Library -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/emoji-picker-element@^1/index.css">
    <script type="module" src="https://cdn.jsdelivr.net/npm/emoji-picker-element@^1/index.js"></script>
    <title>khalid music Zik</title>
    <link rel="stylesheet" href="styles.css">
  
 
  
</head>
<body class="bg-gray-100 text-gray-900">
    <!-- نافبار جديد يحل محل الشريط الإخباري -->
    <nav id="main-nav" class="main-nav">
        <div class="nav-content">
            <div class="site-logo">
                <a href="#">MarocZik</a>
            </div>
            <div class="nav-menu">
                <ul class="menu-items">
                    <li>
                        <a href="#" class="menu-link" data-album="all">
                            <i class="material-icons">library_music</i>
                            جميع الألبومات
                        </a>
                    </li>
                    <li>
                        <a href="#" class="menu-link" data-album="starchaabi">
                            <i class="material-icons">trending_up</i>
                            الأكثر استماعاً
                        </a>
                    </li>
                    <li>
                        <a href="#" class="menu-link" data-album="new">
                            <i class="material-icons">fiber_new</i>
                            أحدث الإضافات
                        </a>
                    </li>
                </ul>
            </div>
            <div class="nav-actions">
                <button id="menu-toggle" class="menu-toggle-btn">
                    <i class="material-icons">menu</i>
                </button>
            </div>
        </div>
    </nav>

    <!-- مشغل الصوت -->
    <div id="audio-player-container" class="p-4 rounded-lg bg-gray-900 text-center text-white shadow-lg" 
     style=" background-size: cover; background-position: center;">
    

    <audio id="audio-player" class="hidden">
        <source id="audio-source" src="" type="audio/mpeg">
        المتصفح لا يدعم تشغيل الصوت.
    </audio>


      <p id="track-name" class="mt-2 track-name">لم يتم اختيار أغنية</p>

    <div class="flex justify-center gap-4 mt-4">
    <button onclick="playPrevious()" class="w-12 h-12 flex items-center justify-center rounded-full bg-gray-700 text-white ">
        <span class="material-icons text-2xl">skip_previous</span>
    </button>

    <button id="play-pause-btn" onclick="togglePlayPause()" class="w-14 h-14 flex items-center justify-center rounded-full bg-blue-600 text-white ">
        <span class="material-icons text-3xl">play_arrow</span>
    </button>

    <button onclick="playNext()" class="w-12 h-12 flex items-center justify-center rounded-full bg-gray-700 text-white ">
        <span class="material-icons text-2xl">skip_next</span>
    </button>

    <button id="volume-btn" onclick="toggleVolumeControl()" class="w-12 h-12 flex items-center justify-center rounded-full bg-gray-700 text-white ">
        <span class="material-icons text-2xl">volume_up</span>
    </button>

    <button onclick="playRandom()" class="w-12 h-12 flex items-center justify-center rounded-full bg-gray-700 text-white ">
        <span class="material-icons text-2xl">shuffle</span>
    </button>
</div>




        <div class="mt-3 flex justify-between items-center bg-gray-800 p-3 rounded-lg">
    <span id="current-time" class="text-white">00:00</span>
    <input type="range" id="progress-bar" class="w-full mx-3 accent-blue-500" value="0" max="100">
    <span id="duration-time" class="text-white">00:00</span>
</div>

<div id="volume-control-container" class="hidden mt-3 flex justify-center items-center gap-3 bg-gray-800 p-3 rounded-lg">
    <input type="range" id="volume-control" class="w-32 accent-green-500" value="100" max="100">
</div>

    </div>

    
    <!-- حذف الزر المتكامل العنوان مع الألبومات -->
    <!-- <div class="album-title-container">...</div> -->

    <!-- عارض الألبومات المنبثق -->
    <div id="albums-showcase" class="albums-showcase">
        <div class="albums-showcase-content">
            <div class="showcase-header">
                <h2><i class="material-icons">library_music</i> <span id="showcase-title">جميع الألبومات</span></h2>
                <button id="close-albums-btn" class="showcase-close-btn">
                    <i class="material-icons">close</i>
                </button>
            </div>
            <div class="albums-grid">
                <!-- سيتم إضافة الألبومات هنا عبر JavaScript -->
                <div class="album-showcase-item" data-album="naydanouda">
                    <img src="naydanouda.webp" alt="nayda nouda">
                    <h3>NAYDA NOUDA</h3>
                </div>
                <div class="album-showcase-item" data-album="i3yalnmassa">
                    <img src="i3yalnmassa.png" alt="i3yalnmassa">
                    <h3>I3YALN MASSA</h3>
                </div>
                <div class="album-showcase-item" data-album="sentralchaabi">
                    <img src="sentralchaabi.png" alt="sentral chaabi">
                    <h3>SENTRAL CHAABI</h3>
                </div>
                <div class="album-showcase-item" data-album="starchaabi">
                    <img src="starchaabi.png" alt="star chaabi">
                    <h3>STAR CHAABI</h3>
                </div>
                <div class="album-showcase-item" data-album="popular">
                    <img src="shabloutar.png" alt="shab loutar">
                    <h3>SHAB LOUTAR</h3>
                </div>
                <div class="album-showcase-item" data-album="casastar">
                    <img src="casastar.png" alt="casa star">
                    <h3>CASA STAR</h3>
                </div>
                <div class="album-showcase-item" data-album="khalij">
                    <img src="khalij.webp" alt="khaliji">
                    <h3>أغاني خليجية</h3>
                </div>
                <div class="album-showcase-item" data-album="kamalnew">
                    <img src="kamalnews.png" alt="kamal new">
                    <h3>KAMAL NEW</h3>
                </div>
                <div class="album-showcase-item" data-album="ahyadihahan">
                    <img src="ahyadihahan.png" alt="ahyad ihahan">
                    <h3>AAWAD IHAHAN</h3>
                </div>
            </div>
        </div>
    </div>

    <!-- نافذة منبثقة للقائمة الجانبية على الهواتف المحمولة -->
    <div id="mobile-menu" class="mobile-menu">
        <div class="mobile-menu-content">
            <div class="mobile-menu-header">
                <div class="site-logo">MarocZik</div>
                <button id="close-mobile-menu" class="close-mobile-menu">
                    <i class="material-icons">close</i>
                </button>
            </div>
            <ul class="mobile-menu-items">
                <li>
                    <a href="#" class="menu-link" data-album="all">
                        <i class="material-icons">library_music</i>
                        جميع الألبومات
                    </a>
                </li>
                <li>
                    <a href="#" class="menu-link" data-album="starchaabi">
                        <i class="material-icons">trending_up</i>
                        الأكثر استماعاً
                    </a>
                </li>
                <li>
                    <a href="#" class="menu-link" data-album="new">
                        <i class="material-icons">fiber_new</i>
                        أحدث الإضافات
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <!-- قسم الأغاني -->
    <div class="songs-container-wrapper">
        
        <!-- star chaabi -->
<div class="songs-container star chaabi" id="starchaabi-songs" style="display: flex;">
    <div class="song" onclick="changeTrack('01 star chaabi.mp3', 'star chaabi 1')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">star chaabi 1</div>
    </div>
    <div class="song" onclick="changeTrack('02 star chaabi.mp3', 'star chaabi 2')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">star chaabi 2</div>
    </div>
    <div class="song" onclick="changeTrack('03 star cha3bi.mp3', 'star chaabi 3')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">star chaabi 3</div>
    </div>
    <div class="song" onclick="changeTrack('04 star cha3bi.mp3', 'star chaabi 4')" style="border-color: 0xe704b2;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">star chaabi 4</div>
    </div>
    <div class="song" onclick="changeTrack('05 star cha3bi.mp3', 'star chaabi 5')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">star chaabi 5</div>
    </div>
    <div class="song" onclick="changeTrack('06 star cha3bi.mp3', 'star chaabi 6')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">star chaabi 6</div>
    </div>
    <div class="song" onclick="changeTrack('07 star cha3bi.mp3', 'star chaabi 7')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">star chaabi 7</div>
    </div>
    <div class="song" onclick="changeTrack('08 star cha3bi.mp3', 'star chaabi 8')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">star chaabi 8</div>
    </div>
     </div>
        
     <!-- star chaabi -->
<div class="songs-container I3YALN MASSA" id="i3yalnmassa-songs" style="display: none;">
    <div class="song" onclick="changeTrack('https://files.catbox.moe/9q3y1c.mp3', 'I3YALN MASSA 1')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">I3YALN MASSA 1</div>
    </div>
    <div class="song" onclick="changeTrack('https://files.catbox.moe/81hrex.mp3', 'I3YALN MASSA 2')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">I3YALN MASSA 2</div>
    </div>
    <div class="song" onclick="changeTrack('https://files.catbox.moe/5k9xls.mp3', 'AYT LKHMIS 3')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">AYT LKHMIS 3</div>
    </div>
    <div class="song" onclick="changeTrack('https://files.catbox.moe/shogmk.mp3', 'AYT LKHMIS 4')" style="border-color: 0xe704b2;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">AYT LKHMIS 4</div>
    </div>    
    </div>
        <!-- nayda nouda -->
<div class="songs-container naydanouda" id="naydanouda-songs" style="display: none;">
    <div class="song" onclick="changeTrack('01 nayda nouda.mp3', 'nayda nouda 1')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">nayda nouda 1</div>
    </div>
    <div class="song" onclick="changeTrack('02 nayda nouda.mp3', 'nayda nouda 2')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">nayda nouda 2</div>
    </div>
    <div class="song" onclick="changeTrack('03 nayda nouda.mp3', 'nayda nouda 3')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">nayda nouda 3</div>
    </div>
    <div class="song" onclick="changeTrack('04 nayda nouda.mp3', 'nayda nouda 4')" style="border-color: 0xe704b2;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">nayda nouda 4</div>
    </div>
    <div class="song" onclick="changeTrack('05 nayda nouda.mp3', 'nayda nouda 5')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">nayda nouda 5</div>
    </div>
    <div class="song" onclick="changeTrack('06 nayda nouda.mp3', 'nayda nouda 6')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">nayda nouda 6</div>
    </div>
    <div class="song" onclick="changeTrack('07 nayda nouda.mp3', 'nayda nouda 7')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">nayda nouda 7</div>
    </div>
    <div class="song" onclick="changeTrack('08 nayda nouda.mp3', 'nayda nouda 8')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">nayda nouda 8</div>
    </div>
    <div class="song" onclick="changeTrack('09 nayda nouda.mp3', 'nayda nouda 9')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">nayda nouda 9</div>
    </div>
    <div class="song" onclick="changeTrack('10 nayda nouda.mp3', 'nayda nouda 10')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">nayda nouda 10</div>
    </div>
    <div class="song hidden" onclick="changeTrack('11 nayda nouda.mp3', 'nayda nouda 11')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">nayda nouda 11</div>
    </div>
    <div class="song hidden" onclick="changeTrack('12 nayda nouda.mp3', 'nayda nouda 12')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">nayda nouda 12</div>
    </div>
    <div class="song hidden" onclick="changeTrack('13 nayda nouda.mp3', 'nayda nouda 13')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">nayda nouda 13</div>
    </div>
    <div class="song hidden" onclick="changeTrack('14 nayda nouda.mp3', 'nayda nouda 14')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">nayda nouda 14</div>
    </div>
    <div class="song hidden" onclick="changeTrack('15 nayda nouda.mp3', 'nayda nouda 15')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">nayda nouda 15</div>
    </div>
    <div class="song hidden" onclick="changeTrack('16 nayda nouda.mp3', 'nayda nouda 16')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">nayda nouda 16</div>
    </div>
    <div class="song hidden" onclick="changeTrack('17 nayda nouda.mp3', 'nayda nouda 17')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">nayda nouda 17</div>
    </div>
    <div class="song hidden" onclick="changeTrack('18 nayda nouda.mp3', 'nayda nouda 18')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">nayda nouda 18</div>
    </div>
   <div class="song hidden" onclick="changeTrack('19 nayda nouda.mp3', 'nayda nouda 19')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">nayda nouda 19</div>
    </div>
    <div class="song hidden" onclick="changeTrack('20 nayda nouda.mp3', 'nayda nouda 20')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">nayda nouda 20</div>
    </div>
    <div class="song hidden" onclick="changeTrack('21 nayda nouda.mp3', 'nayda nouda 21')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">nayda nouda 21</div>
    </div>
    <div class="song hidden" onclick="changeTrack('22 nayda nouda.mp3', 'nayda nouda 22')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">nayda nouda 22</div>
    </div>
    <div class="song hidden" onclick="changeTrack('23 nayda nouda.mp3', 'nayda nouda 23')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">nayda nouda 23</div>
    </div>
       
        </div>     
            
        
    <!-- sentral chaabi -->
<div class="songs-container sentralchaabi" id="sentralchaabi-songs" style="display: none;">
    <div class="song" onclick="changeTrack('01 sentral cha3bi.mp3', 'sentral chaabi 1')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">sentral chaabi 1</div>
    </div>
    <div class="song" onclick="changeTrack('02 sentral cha3bi.mp3', 'sentral chaabi 2')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">sentral chaabi 2</div>
    </div>
    <div class="song" onclick="changeTrack('03 sentral cha3bi.mp3', 'sentral chaabi 3')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">sentral chaabi 3</div>
    </div>
    <div class="song" onclick="changeTrack('04 sentral cha3bi.mp3', 'sentral chaabi 4')" style="border-color: 0xe704b2;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">sentral chaabi 4</div>
    </div>
    <div class="song" onclick="changeTrack('05 sentral cha3bi.mp3', 'sentral chaabi 5')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">sentral chaabi 5</div>
    </div>
    <div class="song" onclick="changeTrack('06 sentral cha3bi.mp3', 'sentral chaabi 6')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">sentral chaabi 6</div>
    </div>
    <div class="song" onclick="changeTrack('07 sentral cha3bi.mp3', 'sentral chaabi 7')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">sentral chaabi 7</div>
    </div>
    <div class="song" onclick="changeTrack('08 sentral cha3bi.mp3', 'sentral chaabi 8')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">sentral chaabi 8</div>
    </div>
    <div class="song" onclick="changeTrack('09 sentral cha3bi.mp3', 'sentral chaabi 9')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">sentral chaabi 9</div>
    </div>
    <div class="song" onclick="changeTrack('10 sentral cha3bi.mp3', 'sentral chaabi 10')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">sentral chaabi 10</div>
    </div>
    <div class="song hidden" onclick="changeTrack('11 sentral cha3bi.mp3', 'sentral chaabi 11')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">sentral chaabi 11</div>
    </div>
    <div class="song hidden" onclick="changeTrack('12 sentral cha3bi.mp3', 'sentral chaabi 12')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">sentral chaabi 12</div>
    </div>
    <div class="song hidden" onclick="changeTrack('13 sentral cha3bi.mp3', 'sentral chaabi 13')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">sentral chaabi 13</div>
    </div>
    <div class="song " onclick="changeTrack('14 sentral cha3bi.mp3', 'sentral chaabi 14')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">sentral chaabi 14</div>
    </div>
    <div class="song" onclick="changeTrack('15 sentral cha3bi.mp3', 'sentral chaabi 15')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">sentral chaabi 15</div>
    </div>
    <div class="song" onclick="changeTrack('16 sentral cha3bi.mp3', 'sentral chaabi 16')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">sentral chaabi 16</div>
    </div>
    <div class="song" onclick="changeTrack('17 sentral cha3bi.mp3', 'sentral chaabi 17')" style="border-color: #ffffff;">
        <i class="material-symbols-outlined">volume_up</i>
        <div class="song-title">sentral chaabi 17</div>
    </div>
      
        </div>         
        
        <!-- casastar -->
        <div class="songs-container popular" id="casastar-songs" style="display: none;">
            <div class="song" onclick="changeTrack('02 casa star.mp3', 'casa star 1')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">casa star 1</div>
            </div>
            <div class="song" onclick="changeTrack('03 casa star.mp3', 'casa star 2')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">casa star 2</div>
            </div>
            <div class="song" onclick="changeTrack('04 casa star.mp3', 'casa star 3')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">casa star 3</div>
            </div>
            <div class="song" onclick="changeTrack('05 casa star.mp3', 'casa star 4')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">casa star 4</div>
            </div>
            <div class="song" onclick="changeTrack('06 casa star.mp3', 'casa star 5')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">casa star 5</div>
            </div>
            <div class="song" onclick="changeTrack('07 casa star.mp3', 'casa star 6')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">casa star 6</div>
            </div>
            <div class="song" onclick="changeTrack('08 casa star.mp3', 'casa star 7')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">casa star 7</div>
            </div>
            <div class="song" onclick="changeTrack('09 casa star.mp3', 'casa star 8')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">casa star 8</div>
            </div>
            <div class="song" onclick="changeTrack('10 casa star.mp3', 'casa star 9')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">casa star 9</div>
            </div>
            <div class="song" onclick="changeTrack('11 casa star.mp3', 'casa star 10')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">casa star 10</div>
            </div>
            <div class="song" onclick="changeTrack('12 casa star.mp3', 'casa star 11')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">casa star 11</div>
            </div>
            <div class="song" onclick="changeTrack('13 casa star.mp3', 'casa star 12')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">casa star 12</div>
            </div>
            
        </div>
        
        
        <!-- shab loutar -->
        <div class="songs-container popular" id="popular-songs" style="display: none;">
            <div class="song" onclick="changeTrack('01 cha3biat shab loutar.mp3.mp3', 'shab loutar 1')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">shab loutar 1</div>
            </div>
            <div class="song" onclick="changeTrack('02 cha3biat shab loutar.mp3.mp3', 'shab loutar 2')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">shab loutar 2</div>
            </div>
            <div class="song" onclick="changeTrack('03 cha3biat shab loutar.mp3.mp3', 'shab loutar 3')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">shab loutar 3</div>
            </div>
            <div class="song" onclick="changeTrack('04 cha3biat shab loutar.mp3.mp3', 'shab loutar 4')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">shab loutar 4</div>
            </div>
           <div class="song" onclick="changeTrack('05 cha3biat shab loutar.mp3.mp3', 'shab loutar 5')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">shab loutar 5</div>
            </div>
            <div class="song" onclick="changeTrack('06 cha3biat shab loutar.mp3.mp3', 'shab loutar 6')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">shab loutar 6</div>
            </div>
            <div class="song" onclick="changeTrack('07 cha3biat shab loutar.mp3.mp3', 'shab loutar 7')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">shab loutar 7</div>
            </div>
            <div class="song" onclick="changeTrack('08 cha3biat shab loutar.mp3.mp3', 'shab loutar 8')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">shab loutar 8</div>
            </div>
            <div class="song" onclick="changeTrack('09 cha3biat shab loutar.mp3.mp3', 'shab loutar 9')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">shab loutar 9</div>
            </div>
            <div class="song" onclick="changeTrack('10 cha3biat shab loutar.mp3.mp3', 'shab loutar 10')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">shab loutar 10</div>
            </div>
            <div class="song" onclick="changeTrack('11 cha3biat shab loutar.mp3.mp3', 'shab loutar 11')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">shab loutar 11</div>
            </div>
            <div class="song hidden" onclick="changeTrack('12 cha3biat shab loutar.mp3.mp3', 'shab loutar 12')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">shab loutar 12</div>
            </div>
            <div class="song" onclick="changeTrack('13 cha3biat shab loutar.mp3.mp3', 'shab loutar 13')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">shab loutar 13</div>
            </div>
            <div class="song" onclick="changeTrack('14 cha3biat shab loutar.mp3.mp3', 'shab loutar 14')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">shab loutar 14</div>
            </div>
        </div>
        
        
        <!-- الأغاني الخليجية -->
        <div class="songs-container eastern" id="khalij-songs" style="display: none;">
            <div class="song" onclick="changeTrack('02 khalij.mp3', 'أغنية خليجية 1')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">أغنية خليجية 1</div>
            </div>
            <div class="song" onclick="changeTrack('01 khalij.mp3', 'أغنية خليجية 2')" style="border-color:#ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">أغنية خليجية 2</div>
            </div>
            <div class="song" onclick="changeTrack('03 khalij.mp3', 'أغنية خليجية 3')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">أغنية خليجية 3</div>
            </div>
            <div class="song" onclick="changeTrack('04 khalij.mp3', 'أغنية خليجية 4')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">أغنية خليجية 4</div>
            </div>
            <div class="song" onclick="changeTrack('05 khalij.mp3', 'أغنية خليجية 5')" style="border-color:#ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">أغنية خليجية 5</div>
            </div>
             <!-- الأغاني المخفية -->
            <div class="song" onclick="changeTrack('06 khalij.mp3', 'أغنية خليجية 6')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">أغنية خليجية 6</div>
            </div>
            <div class="song" onclick="changeTrack('07 khalij.mp3', 'أغنية خليجية 7')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">أغنية خليجية 7</div>
            </div>
            <div class="song" onclick="changeTrack('08 khalij.mp3', 'أغنية خليجية 8')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">أغنية خليجية 8</div>
            </div>
            <div class="song" onclick="changeTrack('09 khalij.mp3', 'أغنية خليجية 9')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">أغنية خليجية 9</div>
            </div>
            
            <div class="song" onclick="changeTrack('10 khalij.mp3', 'أغنية خليجية 10')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">أغنية خليجية 10</div>
            </div>
            <div class="song " onclick="changeTrack('11 khalij.mp3', 'أغنية خليجية 11')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">أغنية خليجية 11</div>
            </div>
            <div class="song" onclick="changeTrack('12 khalij.mp3', 'أغنية خليجية 12')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">أغنية خليجية 12</div>
            </div>
            <div class="song" onclick="changeTrack('13 khalij.mp3', 'أغنية خليجية 13')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">أغنية خليجية 13</div>
            </div>
            <div class="song" onclick="changeTrack('14 khalij.mp3', 'أغنية خليجية 14')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">أغنية خليجية 14</div>
            </div>
             <div class="song" onclick="changeTrack('15 khalij.mp3', 'أغنية خليجية 15')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">أغنية خليجية 15</div>
            </div>
            <div class="song" onclick="changeTrack('16 khalij.mp3', 'أغنية خليجية 16')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">أغنية خليجية 16</div>
            </div>
            <div class="song" onclick="changeTrack('17 khalij.mp3', 'أغنية خليجية 17')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">أغنية خليجية 17</div>
            </div>
        </div>
        
         <!-- ahyad ihahan -->
   <div class="songs-container AAWAD IHAHAN" id="ahyadihahan-songs" style="display: none;">
            <div class="song" onclick="changeTrack('01 ahyad.mp3', 'AAWAD IHAHAN 1')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">AAWAD IHAHAN 1</div>
            </div>
            <div class="song" onclick="changeTrack('02 ahyad.mp3', 'AAWAD IHAHAN 2')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">AAWAD IHAHAN 2</div>
            </div>
            <div class="song" onclick="changeTrack('03 ahyad.mp3', 'AAWAD IHAHAN 3')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">AAWAD IHAHAN 3</div>
            </div>
            <div class="song" onclick="changeTrack('04 ahyad.mp3', 'AAWAD IHAHAN 4')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">AAWAD IHAHAN 4</div>
            </div>
            <div class="song" onclick="changeTrack('05 ahyad.mp3', 'AAWAD IHAHAN 5')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">AAWAD IHAHAN 5</div>
            </div>
       </div>
        <!-- kamal el 3abdi -->
   <div class="songs-container kamal el 3abdi" id="kamalnew-songs" style="display: none;">
            <div class="song" onclick="changeTrack('01 kamal el 3abdi.mp3', 'kamal el 3abdi 1')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">kamal el 3abdi 1</div>
            </div>
            <div class="song" onclick="changeTrack('02 kamal el 3abdi.mp3', 'kamal el 3abdi 2')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">kamal el 3abdi 2</div>
            </div>
            <div class="song" onclick="changeTrack('03 kamal el 3abdi.mp3', 'kamal el 3abdi 3')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">kamal el 3abdi 3</div>
            </div>
            <div class="song" onclick="changeTrack('04 kamal el 3abdi.mp3', 'kamal el 3abdi 4')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">kamal el 3abdi 4</div>
            </div>
            <div class="song" onclick="changeTrack('05 kamal el 3abdi.mp3', 'kamal el 3abdi 5')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">kamal el 3abdi 5</div>
            </div>
            <div class="song" onclick="changeTrack('06 kamal el 3abdi.mp3', 'kamal el 3abdi 6')" style="border-color: #ffffff;">
                <i class="material-symbols-outlined">volume_up</i>
                <div class="song-title">kamal el 3abdi 6</div>
            </div>
        </div> 
      </div>
    
   <div class="album-list-msc"> Autres albums </div>
    <!-- الألبومات الجديدة -->
    <div class="new-albums-container" style="margin: 5px 10px;">
        <div class="new-album-item" onclick="redirectAlbumClick('naydanouda')" data-album="naydanouda">
            <img src="naydanouda.webp" alt="nayda nouda">
            <span>NAYDA NOUDA</span>
        </div>
        <div class="new-album-item" onclick="redirectAlbumClick('sentralchaabi')" data-album="sentralchaabi">
            <img src="sentralchaabi.png" alt="sentral chaabi">
            <span>SENTRAL CHAABI</span>
        </div>
        <div class="new-album-item" onclick="redirectAlbumClick('popular')" data-album="popular">
            <img src="shabloutar.png" alt="shab loutar">
            <span>shab loutar</span>
        </div>
        <div class="new-album-item" onclick="redirectAlbumClick('i3yalnmassa')" data-album="i3yalnmassa">
            <img src="i3yalnmassa.png" alt="I3YALN MASSA">
            <span>I3YALN MASSA</span>
        </div>
        <div class="new-album-item" onclick="redirectAlbumClick('khalij')" data-album="khalij">
            <img src="khalij.webp" alt="khaliji">
            <span>أغاني خليجية</span>
        </div>
        <div class="new-album-item" onclick="redirectAlbumClick('starchaabi')" data-album="starchaabi">
            <img src="starchaabi.png" alt="star chaabi">
            <span>STAR CHAABI</span>
        </div>
        <div class="new-album-item" onclick="redirectAlbumClick('ahyadihahan')" data-album="ahyadihahan">
            <img src="ahyadihahan.png" alt="ahyad ihahan">
            <span>AAWAD IHAHAN</span>
        </div>
        <div class="new-album-item" onclick="redirectAlbumClick('casastar')" data-album="casastar">
            <img src="casastar.png" alt="casa star">
            <span>CASA STAR</span>
        </div>
        
       
    </div>

<div class="favorites-section">
    <div class="favorites-header">
        <i class="material-icons">favorite</i>
        <h2>المفضلة</h2>
    </div>
    <div id="favorites-container" class="favorites-grid">
        <!-- سيتم إضافة العناصر المفضلة هنا عبر JavaScript -->
        <div class="no-favorites-message">لم يتم إضافة أي أغاني للمفضلة بعد</div>
    </div>
</div>

<!-- قسم التعليقات -->
    <div class="comments-section" lang="ar" dir="rtl">
        <div class="comments-header">
            <i class="material-icons">comment</i>
            <h2>التعليقات</h2>
        </div>
        
        <div class="comments-form">
            <div class="user-info">
                <input type="text" id="comment-name" placeholder="اسمك" required>
                <input type="text" id="comment-email" placeholder="البريد الإلكتروني (اختياري)">
            </div>
            <!-- إضافة مكون تقييم النجوم -->
            <div class="star-rating-container">
                <div class="rating-label">التقييم:</div>
                <div class="star-rating" id="star-rating">
                    <span class="star" data-value="1">★</span>
                    <span class="star" data-value="2">★</span>
                    <span class="star" data-value="3">★</span>
                    <span class="star" data-value="4">★</span>
                    <span class="star" data-value="5">★</span>
                </div>
                <div class="rating-value">0 من 5</div>
            </div>
            <div class="comment-textarea-container">
                <textarea id="comment-text" placeholder="اكتب تعليقك هنا..." required></textarea>
                <button id="emoji-button" type="button" class="emoji-toggle-btn">
                    <i class="material-icons">sentiment_satisfied_alt</i>
                </button>
            </div>
            <div id="emoji-picker-container" class="hidden"></div>
            <button id="submit-comment" type="button">إرسال التعليق</button>
        </div>
        
        <div id="comments-container">
            <!-- سيتم إضافة التعليقات هنا عبر JavaScript -->
            <div class="loading-comments">جاري تحميل التعليقات...</div>
        </div>
    </div>

<footer class="footer">
    
    <div class="social-buttons">
        <a href="https://www.facebook.com/sharer/sharer.php?u=https://switweno.github.io/music/" 
           class="social-btn facebook" target="_blank">
            <i class="fab fa-facebook-f"></i>
        </a>
        <a href="https://twitter.com/intent/tweet?url=https://switweno.github.io/music/&text=Check%20this%20out!" 
           class="social-btn twitter" target="_blank">
            <i class="fab fa-twitter"></i>
        </a>
        <a href="https://api.whatsapp.com/send?text=Check%20this%20out!%20https://switweno.github.io/music/" 
           class="social-btn whatsapp" target="_blank">
            <i class="fab fa-whatsapp"></i>
        </a>
        <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://switweno.github.io/music/" 
           class="social-btn linkedin" target="_blank">
            <i class="fab fa-linkedin-in"></i>
        </a>
    </div>
</footer>
    <script src="fixnav.js"></script>
    <script src="ixnavbar.js"></script>
    <script src="main.js" defer></script>
    <script src="debug.js" defer></script>
    <script src="https://unpkg.com/emoji-picker-element" defer></script>

    <!-- إضافة Firebase -->
    <script type="module">
      // Import the functions you need from the SDKs you need
      import { initializeApp } from "https://www.gstatic.com/firebasejs/11.3.1/firebase-app.js";
      import { getFirestore, collection, addDoc, getDocs, serverTimestamp, query, orderBy, doc, updateDoc, getDoc } from "https://www.gstatic.com/firebasejs/11.3.1/firebase-firestore.js";

      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyC_yt3bd0eYEReqwrWewe7QYDHotwOTUl0",
        authDomain: "my-comments-system.firebaseapp.com",
        projectId: "my-comments-system",
        storageBucket: "my-comments-system.firebasestorage.app",
        messagingSenderId: "342793879714",
        appId: "1:342793879714:web:b753725911373aa0ab97fb"
      };

      // Initialize Firebase
      const app = initializeApp(firebaseConfig);
      const db = getFirestore(app);
      
      // متغير لتخزين التقييم الحالي
      let currentRating = 0;
      
      // تهيئة مكون تقييم النجوم
      function initStarRating() {
        const stars = document.querySelectorAll('.star');
        const ratingValue = document.querySelector('.rating-value');
        
        stars.forEach(star => {
          star.addEventListener('mouseover', function() {
            const value = parseInt(this.dataset.value);
            highlightStars(value);
          });
          
          star.addEventListener('mouseout', function() {
            highlightStars(currentRating);
          });
          
          star.addEventListener('click', function() {
            currentRating = parseInt(this.dataset.value);
            ratingValue.textContent = `${currentRating} من 5`;
            highlightStars(currentRating);
          });
        });
        
        // دالة لتمييز النجوم المحددة
        function highlightStars(count) {
          stars.forEach(star => {
            const value = parseInt(star.dataset.value);
            star.classList.toggle('active', value <= count);
          });
        }
      }
      
      // جلب التعليقات
      async function getComments() {
        const commentsContainer = document.getElementById('comments-container');
        commentsContainer.innerHTML = '<div class="loading-comments">جاري تحميل التعليقات...</div>';
        
        try {
          const q = query(collection(db, "comments"), orderBy("createdAt", "desc"));
          const querySnapshot = await getDocs(q);
          
          commentsContainer.innerHTML = '';
          
          if (querySnapshot.empty) {
              commentsContainer.innerHTML = '<div class="no-comments">لا توجد تعليقات بعد. كن أول من يعلق!</div>';
              return;
          }
          
          querySnapshot.forEach((doc) => {
              const comment = doc.data();
              const commentId = doc.id;
              const date = comment.createdAt ? new Date(comment.createdAt.toDate()).toLocaleString() : 'الآن';
              const rating = comment.rating || 0;
              const likes = comment.likes || 0;
              const dislikes = comment.dislikes || 0;
              
              // التحقق مما إذا كان المستخدم قد قام بالتصويت مسبقًا
              const userVote = getUserVoteForComment(commentId);
              
              const commentElement = document.createElement('div');
              commentElement.className = 'comment-item';
              commentElement.setAttribute('data-comment-id', commentId);
              
              // إنشاء نجوم التقييم للتعليق
              let starsHTML = '';
              if (rating > 0) {
                  starsHTML = '<div class="comment-rating">';
                  for (let i = 1; i <= 5; i++) {
                      const starClass = i <= rating ? 'star active' : 'star';
                      starsHTML += `<span class="${starClass}">★</span>`;
                  }
                  starsHTML += '</div>';
              }
              
              commentElement.innerHTML = `
                  <div class="comment-header">
                      <div class="comment-author">${comment.name}</div>
                      <div class="comment-date">${date}</div>
                  </div>
                  ${starsHTML}
                  <div class="comment-content">${comment.text}</div>
                  <div class="comment-actions">
                      <button class="vote-btn like-btn ${userVote === 'like' ? 'voted' : ''}" data-comment-id="${commentId}" data-vote-type="like">
                          <i class="material-icons">thumb_up</i>
                          <span class="vote-count likes-count">${likes}</span>
                      </button>
                      <button class="vote-btn dislike-btn ${userVote === 'dislike' ? 'voted' : ''}" data-comment-id="${commentId}" data-vote-type="dislike">
                          <i class="material-icons">thumb_down</i>
                          <span class="vote-count dislikes-count">${dislikes}</span>
                      </button>
                  </div>
              `;
              
              commentsContainer.appendChild(commentElement);
          });
          
          // إضافة مستمعي الأحداث لأزرار الإعجاب وعدم الإعجاب
          addVoteEventListeners();
          
        } catch (error) {
          console.error("Error getting comments: ", error);
          commentsContainer.innerHTML = '<div class="no-comments">حدث خطأ أثناء تحميل التعليقات. يرجى المحاولة مرة أخرى.</div>';
        }
      }
      
      // إضافة مستمعي الأحداث لأزرار التصويت
      function addVoteEventListeners() {
        const voteButtons = document.querySelectorAll('.vote-btn');
        voteButtons.forEach(button => {
          button.addEventListener('click', handleVote);
        });
      }
      
      // معالجة التصويت (الإعجاب أو عدم الإعجاب)
      async function handleVote(event) {
        const button = event.currentTarget;
        const commentId = button.getAttribute('data-comment-id');
        const voteType = button.getAttribute('data-vote-type');
        
        // التحقق من تصويت المستخدم السابق
        const userVote = getUserVoteForComment(commentId);
        
        // لا يمكن التصويت مرتين بنفس النوع
        if (userVote === voteType) {
          showNotification('لقد قمت بالتصويت مسبقًا', true);
          return;
        }
        
        try {
          const commentRef = doc(db, "comments", commentId);
          const commentDoc = await getDoc(commentRef);
          
          if (commentDoc.exists()) {
            const commentData = commentDoc.data();
            const updateData = {};
            
            // إذا كان المستخدم قد صوت سابقًا بشكل مختلف، قم بإلغاء التصويت السابق
            if (userVote) {
              updateData[userVote + 's'] = Math.max(0, (commentData[userVote + 's'] || 0) - 1);
            }
            
            // قم بزيادة التصويت الجديد
            updateData[voteType + 's'] = (commentData[voteType + 's'] || 0) + 1;
            
            await updateDoc(commentRef, updateData);
            
            // تحديث العداد في واجهة المستخدم
            if (userVote) {
              const oldCountElement = button.parentNode.querySelector(`.${userVote}s-count`);
              if (oldCountElement) {
                oldCountElement.textContent = Math.max(0, parseInt(oldCountElement.textContent) - 1);
              }
              button.parentNode.querySelector(`.${userVote}-btn`).classList.remove('voted');
            }
            
            // تحديث العداد الجديد وإضافة فئة 'voted'
            const countElement = button.querySelector('.vote-count');
            countElement.textContent = parseInt(countElement.textContent) + 1;
            button.classList.add('voted');
            
            // حفظ تصويت المستخدم في التخزين المحلي
            saveUserVote(commentId, voteType);
            
            showNotification(voteType === 'like' ? 'شكرًا لإعجابك!' : 'تم تسجيل رأيك');
          }
        } catch (error) {
          console.error('Error updating vote:', error);
          showNotification('حدث خطأ أثناء التصويت. يرجى المحاولة مرة أخرى.', true);
        }
      }
      
      // حفظ تصويت المستخدم في التخزين المحلي
      function saveUserVote(commentId, voteType) {
        const votes = JSON.parse(localStorage.getItem('commentVotes') || '{}');
        votes[commentId] = voteType;
        localStorage.setItem('commentVotes', JSON.stringify(votes));
      }
      
      // الحصول على تصويت المستخدم لتعليق معين
      function getUserVoteForComment(commentId) {
        const votes = JSON.parse(localStorage.getItem('commentVotes') || '{}');
        return votes[commentId];
      }
      
      // دالة لإظهار الإشعارات
      function showNotification(message, isError = false) {
        // البحث عن الإشعار الحالي إن وجد
        let notification = document.querySelector('.notification');
        
        // إنشاء عنصر الإشعار إذا لم يكن موجوداً
        if (!notification) {
          notification = document.createElement('div');
          notification.className = 'notification';
          document.body.appendChild(notification);
        }
        
        // إضافة فئة الخطأ إذا كان الإشعار للخطأ
        if (isError) {
          notification.classList.add('error');
        } else {
          notification.classList.remove('error');
        }
        
        // تعيين نص الرسالة
        notification.textContent = message;
        
        // إظهار الإشعار
        setTimeout(() => {
          notification.classList.add('show');
        }, 100);
        
        // إخفاء الإشعار بعد 4 ثوانٍ
        setTimeout(() => {
          notification.classList.remove('show');
        }, 4000);
      }
      
      // إضافة تعليق جديد
      async function addComment() {
        const nameInput = document.getElementById('comment-name');
        const textInput = document.getElementById('comment-text');
        const emailInput = document.getElementById('comment-email');
        
        const name = nameInput.value.trim();
        const text = textInput.value.trim();
        const email = emailInput.value.trim();
        
        if (!name || !text) {
          showNotification('يرجى ملء جميع الحقول المطلوبة', true);
          return;
        }
        
        const submitBtn = document.getElementById('submit-comment');
        submitBtn.disabled = true;
        submitBtn.textContent = 'جاري الإرسال...';
        
        try {
          await addDoc(collection(db, "comments"), {
            name: name,
            text: text,
            email: email || null,
            rating: currentRating,
            createdAt: serverTimestamp(),
            likes: 0,
            dislikes: 0
          });
          
          // تفريغ الحقول
          nameInput.value = '';
          textInput.value = '';
          emailInput.value = '';
          
          // إعادة ضبط التقييم
          currentRating = 0;
          document.querySelector('.rating-value').textContent = '0 من 5';
          document.querySelectorAll('.star').forEach(star => star.classList.remove('active'));
          
          // إعادة تحميل التعليقات
          getComments();
          
          // إظهار رسالة نجاح
          showNotification('تم إضافة تعليقك بنجاح!');
        } catch (error) {
          console.error("Error adding comment: ", error);
          // إظهار رسالة خطأ
          showNotification('حدث خطأ أثناء إضافة التعليق. يرجى المحاولة مرة أخرى.', true);
        } finally {
          submitBtn.disabled = false;
          submitBtn.textContent = 'إرسال التعليق';
        }
      }
      
      // DOMContentLoaded - نفذ هذا الكود عند اكتمال تحميل الصفحة
      document.addEventListener('DOMContentLoaded', function() {
        // تحميل التعليقات
        getComments();
        
        // تهيئة مكون تقييم النجوم
        initStarRating();
        
        // إضافة مستمع الحدث لزر إرسال التعليق
        document.getElementById('submit-comment').addEventListener('click', addComment);
        
        // تهيئة منتقي الإيموجي
        initEmojiPicker();
      });
      
      // تهيئة منتقي الإيموجي (الكود الموجود مسبقاً)
      function initEmojiPicker() {
        const emojiPickerContainer = document.getElementById('emoji-picker-container');
        const emojiButton = document.getElementById('emoji-button');
        const commentText = document.getElementById('comment-text');
        
        // إنشاء منتقي الإيموجي
        setTimeout(() => {
          try {
            const picker = document.createElement('emoji-picker');
            emojiPickerContainer.appendChild(picker);
            console.log('Emoji picker created and appended');
            
            // إضافة مستمع الحدث للنقر على الإيموجي
            picker.addEventListener('emoji-click', event => {
              console.log('Emoji clicked:', event.detail.unicode);
              // إدراج الإيموجي في منطقة التعليق
              insertEmoji(commentText, event.detail.unicode);
            });
            
            // تبديل عرض منتقي الإيموجي
            emojiButton.addEventListener('click', (event) => {
              console.log('Emoji button clicked');
              event.stopPropagation();
              emojiPickerContainer.classList.toggle('hidden');
              if (!emojiPickerContainer.classList.contains('hidden')) {
                console.log('Emoji picker is now visible');
              }
            });
            
            // إخفاء منتقي الإيموجي عند النقر في مكان آخر
            document.addEventListener('click', (event) => {
              if (!emojiPickerContainer.contains(event.target) && event.target !== emojiButton) {
                emojiPickerContainer.classList.add('hidden');
              }
            });
          } catch (error) {
            console.error('Error initializing emoji picker:', error);
          }
        }, 1000); // انتظر ثانية واحدة للتأكد من تحميل المكتبة
      }
      
      // إدراج الإيموجي في موضع المؤشر
      function insertEmoji(textarea, emoji) {
        const start = textarea.selectionStart;
        const end = textarea.selectionEnd;
        const text = textarea.value;
        const before = text.substring(0, start);
        const after = text.substring(end, text.length);
        
        textarea.value = before + emoji + after;
        textarea.selectionStart = textarea.selectionEnd = start + emoji.length;
        textarea.focus();
      }
    </script>
    <!-- إضافة سكريبت للتحكم في شريط التنقل -->
    <script>
        // استعداد لـ DOMContentLoaded
        document.addEventListener('DOMContentLoaded', function() {
            // التحكم في ظهور شريط التنقل عند التمرير
            let prevScrollPos = window.pageYOffset;
            const mainNav = document.getElementById('main-nav');
            const audioPlayer = document.getElementById('audio-player-container');
            const mobileMenu = document.getElementById('mobile-menu');
            const menuToggle = document.getElementById('menu-toggle');
            const closeMenuBtn = document.getElementById('close-mobile-menu');
            const showcaseTitle = document.getElementById('showcase-title');
            const albumsShowcase = document.getElementById('albums-showcase');

            // جعل شريط التنقل مرئي عند تحميل الصفحة
            mainNav.classList.add('show');

            // تعديل موضع مشغل الصوت حسب ارتفاع النافبار
            function adjustAudioPlayerPosition() {
                const navHeight = mainNav.offsetHeight;
                
                // التأكد من أن النافبار مرئي قبل تعديل الموضع
                if (mainNav.classList.contains('show')) {
                    audioPlayer.style.marginTop = navHeight + 'px';
                } else {
                    audioPlayer.style.marginTop = '0';
                }
            }
            
            // تعديل الموضع عند التحميل
            adjustAudioPlayerPosition();
            
            // التحكم في ظهور واختفاء شريط التنقل عند التمرير
            window.addEventListener('scroll', function() {
                const currentScrollPos = window.pageYOffset;
                
                if (prevScrollPos > currentScrollPos || currentScrollPos <= 10) {
                    // التمرير لأعلى أو في القمة - إظهار شريط التنقل
                    mainNav.classList.add('show');
                } else {
                    // التمرير لأسفل - إخفاء شريط التنقل
                    mainNav.classList.remove('show');
                }
                
                prevScrollPos = currentScrollPos;
                adjustAudioPlayerPosition();
            });
            
            // التعامل مع القائمة المتنقلة
            menuToggle.addEventListener('click', function() {
                mobileMenu.classList.add('show');
                document.body.style.overflow = 'hidden';
            });
            
            closeMenuBtn.addEventListener('click', function() {
                mobileMenu.classList.remove('show');
                document.body.style.overflow = '';
            });
            
            // إغلاق القائمة عند النقر خارجها
            mobileMenu.addEventListener('click', function(e) {
                if (e.target === mobileMenu) {
                    mobileMenu.classList.remove('show');
                    document.body.style.overflow = '';
                }
            });
            
            // إضافة وظيفة عرض الألبومات من خلال القائمة
            const menuLinks = document.querySelectorAll('.menu-link');
            menuLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const albumType = this.getAttribute('data-album');
                    
                    // إذا كان الزر هو "جميع الألبومات" أو "أحدث الإضافات"
                    if (albumType === 'all' || albumType === 'new') {
                        // تغيير عنوان النافذة المنبثقة
                        showcaseTitle.textContent = albumType === 'all' ? 'جميع الألبومات' : 'أحدث الإضافات';
                        
                        // إظهار نافذة الألبومات المنبثقة
                        albumsShowcase.classList.add('show');
                        document.body.style.overflow = 'hidden';
                    } else {
                        // لو كان ألبوم محدد، عرض الأغاني مباشرة
                        showAlbum(albumType);
                    }
                    
                    // إغلاق القائمة المتنقلة إذا كانت مفتوحة
                    mobileMenu.classList.remove('show');
                });
            });
            
            // مستمعي الأحداث لنافذة الألبومات المنبثقة
            const closeAlbumsBtn = document.getElementById('close-albums-btn');
            closeAlbumsBtn.addEventListener('click', function() {
                albumsShowcase.classList.remove('show');
                document.body.style.overflow = '';
            });
            
            // إضافة وظيفة لعناصر الألبومات في النافذة المنبثقة
            const albumItems = document.querySelectorAll('.album-showcase-item');
            albumItems.forEach(item => {
                item.addEventListener('click', function() {
                    const albumId = this.getAttribute('data-album');
                    
                    // إخفاء النافذة المنبثقة
                    albumsShowcase.classList.remove('show');
                    document.body.style.overflow = '';
                    
                    // عرض الألبوم المختار
                    showAlbum(albumId);
                });
            });

            // ربط الألبومات الجديدة بوظيفة التمرير
            const newAlbumItems = document.querySelectorAll('.new-album-item');
            newAlbumItems.forEach(item => {
                item.addEventListener('click', function() {
                    const albumId = this.getAttribute('data-album');
                    if (albumId) {
                        showAlbum(albumId);
                    }
                });
            });

            // الدالة الرئيسية لعرض الألبوم
            function showAlbum(albumId) {
                console.log('Showing album:', albumId);
                
                // إخفاء جميع حاويات الأغاني
                const allContainers = document.querySelectorAll('.songs-container');
                allContainers.forEach(container => {
                    container.style.display = 'none';
                });
                
                // عرض حاوية الألبوم المحدد
                const targetContainer = document.getElementById(`${albumId}-songs`);
                if (targetContainer) {
                    targetContainer.style.display = 'flex';
                    
                    // تحديث المتغير العام (للوصول من السكريبت الرئيسي)
                    window.currentAlbum = albumId;
                    
                    // تمرير للألبوم
                    targetContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
                } else {
                    console.error(`Album container not found: ${albumId}-songs`);
                }
            }
        });
    </script>
    <script>
    // إعادة توجيه اي onclick قديم إلى الطريقة الجديدة للتنقل
    function redirectAlbumClick(albumId) {
        // استخدام وظيفة التنقل المحسنة من fixnav.js
        if (typeof window.scrollToAlbum === 'function') {
            window.scrollToAlbum(albumId);
        } else {
            // الطريقة القديمة إذا لم تتوفر الوظيفة المحسنة
            showAlbum(albumId);
        }
    }
    </script>
</body>
</html>